<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISTORTION HUNTER</title>
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    <style>
        :root{--bg:#050505;--main:#00ff41;--warn:#ff0055;--accent:#d600ff;}
        body{background:var(--bg);color:var(--main);font-family:'DotGothic16',sans-serif;margin:0;padding:15px;line-height:1.5;}
        h1{text-align:center;font-size:2.5rem;text-shadow:3px 3px var(--warn);margin:0;}
        .box{max-width:500px;margin:20px auto;background:#111;border:2px solid #333;border-radius:12px;padding:20px;}
        input{width:100%;padding:12px;background:#000;border:1px solid #444;color:white;font-family:inherit;font-size:1.1rem;box-sizing:border-box;margin-bottom:15px;}
        .btn-scan{width:100%;padding:15px;background:var(--main);color:black;font-size:1.5rem;font-weight:bold;border:none;cursor:pointer;}
        #result{display:none;margin-top:30px;border:2px solid var(--accent);background:#000;padding:20px;text-align:center;}
        .val{font-size:3.5rem;font-weight:bold;text-shadow:0 0 15px currentColor;line-height:1;}
        .safe{color:gold;} .scam{color:var(--warn);}
        .share-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px;}
        .btn-share{display:flex;align-items:center;justify-content:center;padding:10px;color:white;border-radius:8px;text-decoration:none;font-weight:bold;border:none;cursor:pointer;background:#333;}
        #suggest{display:none;margin-bottom:20px;} .chip{background:#333;color:white;padding:5px 10px;border-radius:15px;text-decoration:none;font-size:0.8rem;margin-right:5px;}
    </style>
</head>
<body>
    <header><h1>DISTORTION<br>HUNTER</h1><div style="text-align:center;color:#888;">â–¼ è¡—ã®ãƒã‚°ï¼ˆç„¡é§„é£ã„ï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã›ã‚ˆ â–¼</div></header>
    <div class="box">
        <label>ğŸ“ åœ°å</label><input type="text" id="city" placeholder="ä¾‹: æŸå¸‚" py-keyup="upd_sug">
        <div id="suggest"><div id="chips"></div></div>
        <label>ğŸ—ï¸ å¯¾è±¡</label><input type="text" id="target" placeholder="ä¾‹: è¬ã®ã‚ªãƒ–ã‚¸ã‚§">
        <label>ğŸ’¸ ç¨é‡‘(å††)</label><input type="number" id="budget" placeholder="50000000">
        <label>ğŸ‘¥ åˆ©ç”¨è€…(äºº)</label><input type="number" id="users" placeholder="3">
        <button class="btn-scan" py-click="scan">ğŸ” SCAN NOW</button>
        <div id="result">
            <div style="font-size:0.8rem;color:#888;">DISTORTION LEVEL</div>
            <div id="d-score" class="val">0.0</div><div id="d-rank">...</div>
            <div class="share-grid">
                <a id="lnk-x" href="#" target="_blank" class="btn-share" style="border:1px solid #fff;">ğ• Post</a>
                <a id="lnk-line" href="#" target="_blank" class="btn-share" style="background:#06c755;">LINE</a>
            </div>
        </div>
    </div>
    <footer style="text-align:center;margin-top:40px;color:#555;font-size:0.8rem;">Powered by SBCM Alliance</footer>
    <script type="py">
        from pyscript import document
        import urllib.parse
        def upd_sug(e):
            c=document.getElementById("city").value; d=document.getElementById("suggest")
            if len(c)<2: d.style.display="none"; return
            d.style.display="block"; q=urllib.parse.quote
            document.getElementById("chips").innerHTML=f'<a href="https://www.google.com/search?q={q(c+" äºˆç®—")}&tbm=nws" target="_blank" class="chip">ğŸ“° ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œç´¢</a>'
        def scan(e):
            try: b=float(document.getElementById("budget").value); u=float(document.getElementById("users").value)
            except: return
            if u==0: u=1
            d=b/30000000/(u/72000); s=f"{d:.1f}"; r="âœ¨ ç¥é‹å–¶" if d<1 else "ğŸš¨ SCAM"
            el=document.getElementById("d-score"); el.innerText=s; el.className=f"val {'safe' if d<1 else 'scam'}"
            document.getElementById("d-rank").innerText=r; document.getElementById("result").style.display="block"
            txt=urllib.parse.quote(f"ã€æ­ªã¿æ¤œçŸ¥ã€‘{document.getElementById('city').value}ã€Œ{document.getElementById('target').value}ã€\nâš ï¸ æ­ªã¿æŒ‡æ•°: {s}\nåˆ¤å®š: {r}\n#è¡—ã®æ­ªã¿ã‚’ã•ãŒã›")
            document.getElementById("lnk-x").href=f"https://twitter.com/intent/tweet?text={txt}"; document.getElementById("lnk-line").href=f"https://line.me/R/msg/text/?{txt}"
    </script>
</body>
</html>
